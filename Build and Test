pipeline{
  agent any
  environment{
  branch='master'
  source=''-------------server port='8080'
  }
  stages{
          stage('checkout git'){
            steps{
                 git url:'---------------'
                 sh 'git clean'; 
                                }
                  }             
          stage('build'){
            steps{
                  sh'mvn clean package'
                        }
                 }
            
          stage('UAT Test') {
            steps {
                    sh "UAT tests-${ENVIRONMENT}.sh"
                    }
                
                }            
          stage('SIT Tests') {
            steps {
                dir('postman') {
                    nodejs('nodejs') {
                        sh "sh ./newman-integration-tests-${ENVIRONMENT}.sh"
                    }
                    junit '**/newman/*.xml'
                }
            }
        }
    }
